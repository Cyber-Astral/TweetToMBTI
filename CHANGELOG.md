# Changelog

## [2024-01-27] - 代码结构优化

### 新增
- **统一 CLI 入口** (`cli.py`)：整合所有功能到一个命令行接口
  - 支持子命令：`scrape`, `analyze`, `stats`, `today-stats`
  - 更清晰的参数解析和帮助信息

### 改进
- **重组 common 模块**：按功能拆分为4个子模块
  - `common/utils/` - 通用工具函数（计算、路径、限流）
  - `common/validation/` - 验证和异常处理
  - `common/data/` - 数据处理（推文相关）
  - `common/logging/` - 日志功能
- **向后兼容**：创建兼容层，现有代码无需修改
- **简化顶层脚本**：原有脚本现在转发到新的 CLI

### 优化
- 删除冗余的 `html_to_image.py`（保留改进版 `html_to_image_safe.py`）
- 更新文档，说明新的使用方式

### 技术细节
- 所有单元测试通过（72个测试）
- 保持完全向后兼容性
- 提升代码可维护性和模块化程度